\documentclass{l3doc}
\usepackage[scale = 10pt]{char2path}
\usepackage{listings, hyperref}
\lstset{basicstyle = \footnotesize\ttfamily, numbers = left}
\AddToHook{env/function/before}{\vspace*{-.5\baselineskip}}
\makeatletter
\def \@key  #1{\textcolor{red}{\textbf{\texttt{#1}}}\:\texttt{=}\:}
\def \s@key #1{\textcolor{red}{\textbf{\texttt{#1}}}}
\DeclareDocumentCommand \key s {\IfBooleanTF{#1}\s@key\@key}
\DeclareCommandCopy \val \meta
\def \TFF {true\textup{\textbar\textbf{false}}}
\def \TTF {\textup{\textbf{true}\textbar}false}
\def \HoLogo@ApLaTeX #1{^^A
  \HOLOGO@mbox {A\kern -.05em p\kern -.05em \hologo{LaTeX}}}
\newcounter{example}[subsection]
\renewcommand\theexample{\thesubsection.\arabic{example}}
\newwrite\example@out
\def\example@name{\jobname.example.aux}
\long\def\example@start{\begingroup\@bsphack
  \immediate\openout\example@out=\example@name
  \let\do\@makeother\dospecials\catcode`\^^M\active
  \def\verbatim@processline{\immediate\write\example@out{\the\verbatim@line}}^^A
  \verbatim@start}
\long\def\example@end{\immediate\closeout\example@out\@esphack\endgroup
  \trivlist\item[]\relax
    \leavevmode\hbox to \z@{^^A
      \hbox to \z@{\hss{\footnotesize[\theexample]}\hskip4pt}
      \begin{minipage}[c]{.72\textwidth}^^A
        \small\verbatiminput \example@name^^A
      \end{minipage}^^A
      \fbox{^^A
        \begin{minipage}[c]{.26\textwidth}^^A
          \normalsize\input \example@name^^A
        \end{minipage}^^A
      }^^A
    \hss}^^A
  \endtrivlist}
\newenvironment{example}
  {\stepcounter{example}\example@start}{\example@end}
\makeatother
\newlist{keyval}{itemize}{10}
\setlist[keyval]{leftmargin = 0pt, labelsep = 0pt}
\makeindex

\title{^^A
  The \texorpdfstring{%
    \chartopath[hfading = {teal, purple}, font = lms]{char2path}%
  }{char2path} Package\thanks{^^A
    \url{https://ctan.org/pkg/char2path},
    \url{https://github.com/zongpingding/char2path}^^A
  }^^A
}
\author{^^A
  Eureka\thanks{^^A
    \href{mailto:zongpingding5@outlook.com}{\texttt{zongpingding5@outlook.com}}},~
  Mingyu Xia\thanks{^^A
    \href{mailto:xiamingyu@westlake.edu.cn}{\texttt{xiamingyu@westlake.edu.cn}}^^A
  }^^A
}
\date{Released 2025-08-01\quad \texttt{v1.0.0}}

\begin{document}

\maketitle

\begin{documentation}

\section{Introduction}

The \pkg{char2path} package provides a \LaTeX\ package for converting
characters into Ti\textit k\/Z paths.
It supports compilation methods including \hologo{pdfLaTeX},
\hologo{XeLaTeX}, and \hologo{LuaLaTeX}.

\section{Usage}

\noindent
\begin{minipage}{.55\linewidth}
  To load this package, write the line
  \begin{Verbatim}[commandchars = \|\{\}]
  \usepackage[scale = |meta{choice}]|{char2path|}
  \end{Verbatim}
  The supported right listed \meta{choice} can
  scale the converted paths with corresponding factors.
\end{minipage}
\hspace*\fill
\begin{minipage}{.43\linewidth}
  \begin{tabular}{*5{>{\small}c}}
    \toprule
    Choice  & |10pt| & |11pt| & |12pt| & |13pt|\\
    Factor  & |0.82| & |0.90| & |0.98| & |1.07|\\
    \midrule
    Choice  & |14pt| & |15pt| & |16pt| & ...   \\
    Factor  & |1.15| & |1.23| & |1.31| & ...   \\
    \bottomrule
  \end{tabular}
\end{minipage}

\begin{function}[updated = 2025-07-27]{\chartopath}
  \begin{syntax}
    \cs{chartopath} \oarg{key-vals} \marg{string}
  \end{syntax}
  The \oarg{key-vals} accepts the listed keys to set how the \marg{string}
  converts to path.
  \begin{keyval}
    \item [\key{font}] \val{lmr\textup\textbar lms\textup\textbar lmm}
    choose char's font.
    \item [\key{draw, fill}] \val{color} set the color of
    the outline/fill of string (Default: |black|).
    \item [\key{outline}] \val{dim} set the outline of the string
    to achieve the ``Fake Bold'' effect (Default: |0pt|).
    \item [\key{scale}] \val{fp num} set font's scale factor
    (Default: |1|).
    \item [\key{hfading, vfading}] \val{color clist} set the two colors for horizontally/vertically fading the whole string.
    \item [\key{rescan}] \val{\TTF} rescan tokens |$|, |&|, and |~| with catcode 12 (other). 
    (Default: |true|).
  \end{keyval}
\end{function}

\begin{function}[updated = 2025-07-26]{\chartoclip}
  \begin{syntax}
    \cs{chartoclip} \oarg{key-vals} \marg{char}
  \end{syntax}
  The mandatory argument accepts a single character, and the optional
  argument accepts the following keys to set the style how the character clip
  the image.
  \par\medskip\noindent
  \begin{minipage}{.57\linewidth}
    \begin{keyval}
      \item [\key{font}] \val{lmr\textup\textbar lms\textup\textbar lmm}
      choose char's font.
      \item [\key{image}] \val{image} set image to clip.
      \item [\key{scale}] \val{fp num} set font's scale factor
      (Default: |1|).
    \end{keyval}
  \end{minipage}
  \hspace*\fill
  \begin{minipage}{.39\linewidth}
    \begin{keyval}
      \item [\key{anchor}] \val{tikz anchor} set image's anchor.
      \item [\key{offset}] \val{(x, y)} set imgae anchor's offset.
      \item [\key{height}] \val{dim} image's height.
    \end{keyval}
  \end{minipage}
\end{function}

\section{Examples}

This package can convert the following characters to path by default:
including \textrm{Latin Modern Roman}, \textrm{Latin Modern Sans},
and \texttt{Latin Modern Mono}.

\DeleteShortVerb\| \DeleteShortVerb\" \catcode`\^11\relax
\begin{center}
  \begin{minipage}[t]{.32\linewidth}
    \fbox{\parbox[c][2.5\baselineskip]{\linewidth-8pt}{
      \scriptsize
      \chartopath[font = lmr, draw]{!\#$"\%&'()*+,-./012345678}\par
      \chartopath[font = lmr, draw]{9:;<=>?@ABCDEFGHIJKLMNOP}\par
      \chartopath[font = lmr, draw]{QRSTUVWXYZ[\ctpbackslash]^_`abcdefgh}\par
      \chartopath[font = lmr, draw]{ijklmnopqrstuvwxyz\{|\}~}
    }}
  \end{minipage}
  \hspace*\fill
  \begin{minipage}[t]{.32\linewidth}
    \fbox{\parbox[c][2.5\baselineskip]{\linewidth-8pt}{
      \scriptsize
      \chartopath[font = lms, draw]{!\#$"\%&'()*+,-./012345678}\par
      \chartopath[font = lms, draw]{9:;<=>?@ABCDEFGHIJKLMNOP}\par
      \chartopath[font = lms, draw]{QRSTUVWXYZ[\ctpbackslash]^_`abcdefgh}\par
      \chartopath[font = lms, draw]{ijklmnopqrstuvwxyz\{|\}~}
    }}
  \end{minipage}
  \hspace*\fill
  \begin{minipage}[t]{.32\linewidth}
    \fbox{\parbox[c][2.5\baselineskip]{\linewidth-8pt}{
      \scriptsize
      \chartopath[font = lmm, draw]{!\#$"\%&'()*+,-./012345678}\par
      \chartopath[font = lmm, draw]{9:;<=>?@ABCDEFGHIJKLMNOP}\par
      \chartopath[font = lmm, draw]{QRSTUVWXYZ[\ctpbackslash]^_`abcdefgh}\par
      \chartopath[font = lmm, draw]{ijklmnopqrstuvwxyz\{|\}~}
    }}
  \end{minipage}
\end{center}
\MakeShortVerb\| \MakeShortVerb\" \catcode`\^7\relax

\subsection{Basic usage}

\noindent
\def\0{0123456789/ctp}
The basic usage only print the outline of the inputted string.
\begin{example}
  \def\0{0123456789/ctp}
  \chartopath\0
\end{example}
\noindent
Users can specific the color of outline and fill,
specific the fill-in pattern,
and specific the scale and slant of inputted characters.
Just like the keys in Ti\textit k\/Z.
\begin{example}
  \chartopath[draw = none, fill = blue]\0
\end{example}

\begin{example}
  \chartopath[draw = blue, fill = red, scale = 1.2]\0
\end{example}

\begin{example}
  \chartopath[pattern = north west lines,
              draw, scale = 1.2] \0
\end{example}

\begin{example}
  \chartopath[draw, fill = green,
              xslant = .15, scale = 1.2] \0
\end{example}
Commands like \cs[no-index]{small} can be directly applied to \cs{chartopath}.
A comparison of the text and the converted path under 4 different font size
is shown in the following figure.

\begin{center}
  \begin{tikzpicture}[every node/.style = {font = \ttfamily}]
    \draw [ -stealth, gray!25, line width = 1em, line cap = round ]
      (0,0) --++ (.93\linewidth,0) node [ left, black ] {\cs{f@size}};
    \node [ above = 1ex ] at (.06\linewidth,0) {\small      \0};
    \node [ above = 1ex ] at (.24\linewidth,0) {\normalsize \0};
    \node [ above = 1ex ] at (.45\linewidth,0) {\large      \0};
    \node [ above = 1ex ] at (.72\linewidth,0) {\LARGE      \0};
    \node [ below = 1ex ] at (.06\linewidth,0)
      {\small     \chartopath[fill = orange]\0};
    \node [ below  = 1ex] at (.24\linewidth,0)
      {\normalsize\chartopath[fill = green]\0};
    \node [ below = 1ex ] at (.45\linewidth,0)
      {\large     \chartopath[fill = blue]\0};
    \node [ below = 1ex ] at (.72\linewidth,0)
      {\LARGE     \chartopath[fill = purple]\0};
    \makeatletter
    \node at (.06\linewidth,0)
      {\small     \scalebox{\fpeval{8/\f@size}}
        {\small     \f@size pt (\cs[no-index]{small})}};
    \node at (.24\linewidth,0)
      {\normalsize\scalebox{\fpeval{8/\f@size}}
        {\normalsize\f@size pt (\cs[no-index]{normalsize})}};
    \node at (.45\linewidth,0)
      {\large     \scalebox{\fpeval{8/\f@size}}
        {\large     \f@size pt (\cs[no-index]{large})}};
    \node at (.72\linewidth,0)
      {\LARGE      \scalebox{\fpeval{8/\f@size}}
        {\LARGE      \f@size pt (\cs[no-index]{LARGE})}};
    \makeatother
  \end{tikzpicture}
\end{center}

\subsection{Fading the path}

\begin{example}
  \chartopath[hfading = {red, green}]\0
\end{example}

\begin{example}
  \chartopath[hfading = {blue, -}]\0
\end{example}

\begin{example}
  \chartopath[hfading = {-, violet}]\0
\end{example}

\begin{example}
  \chartopath[vfading = {teal, purple}]\0
\end{example}

\begin{example}
  \chartopath[vfading = {-, orange}]\0
\end{example}

\begin{example}
  \chartopath[vfading = {violet, -}]\0
\end{example}

\begin{texnote}
  Fading will cost too much time!!!
\end{texnote}

\section{Advanced Examples}

\subsection{Use in \pkg{listings}}

This package can be used within \pkg{listings} or \pkg{minted},
then users could directly copy the source code from |.pdf| file
without worry about including unwanted line numbers.

\let\orithelstnumber\thelstnumber
  \def\thelstnumber{%
    \chartopath[rescan = false, hfading = {violet, blue}]{\orithelstnumber}
  }
\begin{verbatim}
  \let\orithelstnumber\thelstnumber
  \def\thelstnumber{%
    \chartopath[rescan = false, hfading = {violet, blue}]{\orithelstnumber}%
  }
\end{verbatim}

\begin{example}
\begin{lstlisting}[language = {[LaTeX]TeX}]
\documentclass{article}
\begin{document}
  Hello, \LaTeX!
\end{document}
\end{lstlisting}
\end{example}

\subsection{String clip}
You can also define a command, \cs[no-index]{strpathclip},
that accepts a string instead of a single character:
\begin{example}
\ExplSyntaxOn
\NewDocumentCommand \strpathclip { O{} m }
  {
    \int_step_inline:nn 
      { \exp_args:Ne \tl_count:n {#2} }
      { \chartoclip [ #1, offset = {(##1*1, 0pt)}
                    ] {\tl_item:nn {#2}{##1}} \kern2pt }
  }
\ExplSyntaxOff
\strpathclip[scale=2.5, font=lmm]{AAAA}\\
\strpathclip[scale=2.5, font=lmr]{Hello}
\end{example}


\subsection{\hologo{(La)TeX} logo}
The logos \TeX\ and \LaTeX\ can be recreated using \cs{chartoclip}:
\begin{example}
\def\ctp#1{\chartoclip[font = lmr, image = example-image]{#1}}
\protected\def\ctpTeX{\ctp T\kern-.1667em \lower.5ex
  \hbox{\ctp E}\kern-.125em \ctp X}
\protected\def\ctpLaTeX{\ctp L\kern-.36em%
  {\sbox0 T\vbox to\ht0{\vskip-.021em\hbox{%
  \kern.083em\scalebox{.7}{\ctp A}}\vss}}\kern-.15em\ctpTeX}
\scalebox{2}{\ctpTeX} \scalebox{2}{\ctpLaTeX}
\end{example}

\section{Todo list}

\begin{itemize}
  \item [\textcolor{green}{\textsf{Warn}}] Resolve the font warning: Font shape \texttt{OMS/cmtt/m/n} undefined for \texttt{textbackslash}.
  \item [\textcolor{blue}{\textsf{Function}}] Support function like
  "\chartopath{\usefont{T1}{cmr}{m}{sc} abc}", or\\
  "\chartopath{\sffamily abc}".
\end{itemize}

\end{documentation}

\begin{implementation}

\end{implementation}

% \PrintIndex

\end{document}