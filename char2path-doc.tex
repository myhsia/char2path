\documentclass[lm-default]{l3doc}
\usepackage[scale=10pt]{char2path}
\usepackage{listings, hyperref}
\lstset{basicstyle = \footnotesize\ttfamily, numbers = left}

\usepackage[mono = false]{libertine}
\AddToHook{env/function/before}{\vspace*{-.7\baselineskip}}
\AddToHook{env/syntax/after}   {\par\vspace*{.2\baselineskip}}
\makeatletter
\def \@key  #1{\textcolor{red}{\textbf{\texttt{#1}}}\:\texttt{=}\:}
\def \s@key #1{\textcolor{red}{\textbf{\texttt{#1}}}}
\DeclareDocumentCommand \key s {\IfBooleanTF{#1}\s@key\@key}
\DeclareCommandCopy \val \meta
\def \TFF {true\textup{\textbar\textbf{false}}}
\def \TTF {\textup{\textbf{true}\textbar}false}
\def \HoLogo@ApLaTeX #1{^^A
  \HOLOGO@mbox {A\kern -.05em p\kern -.05em \hologo{LaTeX}}}
\newcounter{example}[subsection]
\renewcommand\theexample{\thesubsection.\arabic{example}}
\newwrite\example@out
\def\example@name{\jobname.example.aux}
\long\def\example@start{\begingroup\@bsphack
  \immediate\openout\example@out=\example@name
  \let\do\@makeother\dospecials\catcode`\^^M\active
  \def\verbatim@processline{\immediate\write\example@out{\the\verbatim@line}}^^A
  \verbatim@start}
\long\def\example@end{\immediate\closeout\example@out\@esphack\endgroup
  \trivlist\item[]\relax
    \leavevmode\hbox to \z@{^^A
      \hbox to \z@{\hss{\footnotesize[\theexample]}\hskip4pt}
      \begin{minipage}[c]{.72\textwidth}^^A
        \small\verbatiminput \example@name^^A
      \end{minipage}^^A
      \fbox{^^A
        \begin{minipage}[c]{.26\textwidth}^^A
          \normalsize\input \example@name^^A
        \end{minipage}^^A
      }^^A
    \hss}^^A
  \endtrivlist}
\newenvironment{example}
  {\stepcounter{example}\example@start}{\example@end}
\makeatother
\newlist{keyval}{itemize}{10}
\setlist[keyval]{leftmargin = 0pt, labelsep = 0pt}
\makeindex

\title{^^A
  The \pkg{char2path} Package\thanks{^^A
    \url{https://github.com/zongpingding/char2path},
    \texttt{https://ctan.org/pkg/char2path}^^A
  }^^A
}
\author{^^A
  Eureka\thanks{^^A
    \href{mailto:zongpingding5@outlook.com}{\texttt{zongpingding5@outlook.com}}},~
  Mingyu Xia\thanks{^^A
    \href{mailto:xiamingyu@westlake.edu.cn}{\texttt{xiamingyu@westlake.edu.cn}}^^A
  }^^A
}
\date{Released 2025-08-01\quad \texttt{v1.0.0}}

\begin{document}

\maketitle

\begin{documentation}

\section{Introduction}

The \pkg{char2path} package (conducted with \LaTeX3) provides
a \LaTeX\ package that converts characters into Ti\textit k\/Z paths.
It supports various compilation methods, such as \hologo{pdfLaTeX},
\hologo{XeLaTeX}, \hologo{ApLaTeX} (pending for check), \hologo{LuaLaTeX}, etc.

\section{Usage}

To load this package, write the line
\begin{quote}
  |\usepackage[scale = |\meta{int}|pt]{char2path}|
\end{quote}

Here, the integral number \meta{int} supports the following choices,
and the converted paths will be scaled to the corresponding factors.

\begin{center}
  \begin{tabular}{*9c}
    \toprule
    Pound   & |10pt|  & |11pt|  & |12pt|  &
    |13pt|  & |14pt|  & |15pt|  & |16pt|  & (Pending...)\\
    \midrule
    Factor  & |0.820| & |0.902| & |0.984| &
    |1.066| & |1.148| & |1.230| & |1.311| & ...\\
    \bottomrule
  \end{tabular}
\end{center}

\begin{function}[added = 2025-07-22]{\chartopath}
  \begin{syntax}
    \cs{chartopath} \oarg{key-vals} \marg{string}
  \end{syntax}
  The mandatory argument accepts the required input string, and the optional
  argument accepts the following keys to set the style how the string converts
  to path.
  \begin{keyval}
    \item [\key{font}] \val{lmm/lmr} font name.
    \item [\key{draw, fill}] \val{color} can set the color of the outline/fill of string
    (Default: |black|).
    \item [\key{outline}] \val{dim} can set the outline of the string
    (Default: |1|).
    \item [\key{scale}] \val{fp num} can set the scale of the string
    (Default: |1|).
    \item [\key{hfading}] \val{clist} can set the two colors for horizontal fading the whole string.
    \item [\key{vfading}] \val{clist} can set the two colors for vertical fading the whole string.
    \item [\key{rescan}] \val{\TTF} rescan tokens \verb|$|, \verb|&|, and \verb|~| with catcode 12 (other). 
    (Default: |true|).
  \end{keyval}
\end{function}

\begin{function}[added = 2025-07-26]{\charpathclip}
  \begin{syntax}
    \cs{charpathclip} \oarg{key-vals} \marg{char}
  \end{syntax}
  The mandatory argument accepts a single character, and the optional
  argument accepts the following keys to set the style how the character clip
  the image.
  \begin{keyval}
    \item [\key{font}] \val{lmm/lmr} font name.
    \item [\key{image}] \val{image} image name.
    \item [\key{scale}] \val{fp num} font scale factor.
    \item [\key{anchor}] \val{tikz anchor} image anchor.
    \item [\key{offset}] \val{(x, y)} imgae anchor offset.
    \item [\key{height}] \val{dim} image height.
  \end{keyval}
\end{function}

\section{Examples}

\subsection{Clip image}
\begin{example}
  \charpathclip[font = lmr, scale = 2,
                offset = {(1, 2cm)}] {L}
\end{example}


\subsection{Char to path}

This package can convert the following characters to path by default:
including \textrm{Latin Modern Roman},
\textrm{Latin Modern Sans} (will be supported soon)
and \texttt{Latin Modern Mono}.

\DeleteShortVerb\| \DeleteShortVerb\" \catcode`\^11\relax
\begin{center}
  \begin{minipage}[t]{.48\linewidth}
    \fbox{\hskip16pt\parbox[c][4\baselineskip]{\linewidth-24pt}{
      \chartopath{!\#$"\%&'()*+,-./012345678}\par
      \chartopath{9:;<=>?@ABCDEFGHIJKLMNOP}\par
      \chartopath{QRSTUVWXYZ[\ctpbackslash]^_`abcdefgh}\par
      \chartopath{ijklmnopqrstuvwxyz\{|\}~}
    }}
  \end{minipage}
  \hspace*\fill
  \begin{minipage}[t]{.48\linewidth}
    \fbox{\hskip16pt\parbox[c][4\baselineskip]{\linewidth-24pt}{
      \chartopath[font = lmr, draw]{!\#$"\%&'()*+,-./012345678}\par
      \chartopath[font = lmr, draw]{9:;<=>?@ABCDEFGHIJKLMNOP}\par
      \chartopath[font = lmr, draw]{QRSTUVWXYZ[\ctpbackslash]^_`abcdefgh}\par
      \chartopath[font = lmr, draw]{ijklmnopqrstuvwxyz\{|\}~}
    }}
  \end{minipage}
\end{center}
\MakeShortVerb\| \MakeShortVerb\" \catcode`\^7\relax

\subsection{Basic usage}

\noindent
\def\0{0123456789ABCabc./*}
The basic usage only print the outline of the inputted string.
\begin{example}
  \def\0{0123456789ABCabc./*}
  \chartopath\0
\end{example}
\noindent
Users can pecific the color of outline and fill,
or specific the scale of inputted characters.
Just like the keys in \pkg{Ti\textit k\/Z}
\begin{example}
  \chartopath[draw = none, fill = blue]\0
\end{example}

\begin{example}
  \chartopath[draw = blue, fill = red, scale = 1.2]\0
\end{example}

Fading is also supported

\begin{example}
  \chartopath[hfading = {red, green}]\0
\end{example}

\begin{example}
  \chartopath[hfading = {blue, violet}]\0
\end{example}

\begin{example}
  \chartopath[vfading = {teal, violet}]\0
\end{example}

\begin{texnote}
  Fading will cost too much time!!!
\end{texnote}

as well as pattern

\begin{example}
  \chartopath[pattern = north west lines,
              draw, scale = 1.2] \0
\end{example}

FakeSlant is also supported

\begin{example}
  \chartopath[draw, fill = green, xslant = .15,
              scale = 1.2] \0
\end{example}

\subsection{Use in text}

Commands for changing font's size, like |\small|,
can be directly applied to \cs{chartopath}.
A comparison of the text and the path under 4 different font size commands
is shown in the following figure.

\begin{center}
  \begin{tikzpicture}[every node/.style = {font = \ttfamily}]
    \draw [ -stealth, gray!25, line width = 1em, line cap = round ]
      (0,0) --++ (.93\linewidth,0) node [ left, black ] {|\f@size|};
    \node [ above = 1ex ] at (.06\linewidth,0) {\small      0123456789};
    \node [ above = 1ex ] at (.24\linewidth,0) {\normalsize 0123456789};
    \node [ above = 1ex ] at (.45\linewidth,0) {\large      0123456789};
    \node [ above = 1ex ] at (.72\linewidth,0) {\huge       0123456789};
    \node [ below = 1ex ] at (.06\linewidth,0)
      {\small     \chartopath[fill = orange]{0123456789}};
    \node [ below  = 1ex] at (.24\linewidth,0)
      {\normalsize\chartopath[fill = green]{0123456789}};
    \node [ below = 1ex ] at (.45\linewidth,0)
      {\large     \chartopath[fill = blue]{0123456789}};
    \node [ below = 1ex ] at (.72\linewidth,0)
      {\huge      \chartopath[fill = purple]{0123456789}};
    \makeatletter
    \node at (.06\linewidth,0)
      {\small     \scalebox{\fpeval{8/\f@size}}
        {\small     \f@size pt (\cs[no-index]{small})}};
    \node at (.24\linewidth,0)
      {\normalsize\scalebox{\fpeval{8/\f@size}}
        {\normalsize\f@size pt (\cs[no-index]{normalsize})}};
    \node at (.45\linewidth,0)
      {\large     \scalebox{\fpeval{8/\f@size}}
        {\large     \f@size pt (\cs[no-index]{large})}};
    \node at (.72\linewidth,0)
      {\huge      \scalebox{\fpeval{8/\f@size}}
        {\huge      \f@size pt (\cs[no-index]{huge})}};
    \makeatother
  \end{tikzpicture}
\end{center}

\section{Advanced examples}
\subsection{Use in \pkg{listings}}

This package can be used with \pkg{listings} or \pkg{minted}, so that users could
directly copy and paste the source code from |.pdf| file without worry about
including unwanted line numbers.

\let\orithelstnumber\thelstnumber
  \def\thelstnumber{%
    \chartopath[rescan = false, hfading = {violet, blue}]
       {\orithelstnumber}
  }
\begin{verbatim}
  \let\orithelstnumber\thelstnumber
  \def\thelstnumber{%
    \chartopath[rescan = false, hfading = {violet, blue}]
       {\orithelstnumber}
  }
\end{verbatim}

\begin{example}
\begin{lstlisting}[language = {[LaTeX]TeX}]
\documentclass{article}
\begin{document}
  Hello, \LaTeX!
\end{document}
\end{lstlisting}
\end{example}

\subsection{String clip}
You can also define a command, \verb|\strpathclip|, that accepts a string instead 
of a single character:
\begin{example}
\ExplSyntaxOn
\NewDocumentCommand{\strpathclip}{O{}m}
  {
    \int_step_inline:nn 
      { \exp_args:Ne \tl_count:n {#2} }
      {
        \charpathclip[
          #1,
          offset = {(##1*1, 0pt)},
        ]{\tl_item:nn {#2}{##1}}
        \kern2pt
      }
  }
\ExplSyntaxOff
\strpathclip[scale=2.5, font=lmm]{AAAA}\\
\strpathclip[scale=2.5, font=lmr]{Hello}
\end{example}


\subsection{(La)TeX logo}
The logos \TeX{} and \LaTeX{} can be recreated using \verb|\charpathclip|:
\begin{example}
\def\ctpL{\charpathclip[font=lmr, image=example-image]{L}}
\def\ctpA{\charpathclip[font=lmr, image=example-image]{A}}
\def\ctpT{\charpathclip[font=lmr, image=example-image]{T}}
\def\ctpE{\charpathclip[font=lmr, image=example-image]{E}}
\def\ctpX{\charpathclip[font=lmr, image=example-image]{X}}
\protected\def\ctpTeX{%
  \ctpT\kern-.1667em \lower.5ex%
  \hbox{\ctpE}\kern-.125em \ctpX
}
\protected\def\ctpLaTeX
  { \ctpL\kern-.36em%
    {\sbox0 T%
      \vbox to\ht0 {%
        \vskip-.021em%
        \hbox{\kern0.083em%
        \scalebox{.7}{\ctpA}}%
        \vss
    }}\kern-.1em\ctpTeX
  }
\scalebox{2.5}{\ctpTeX}
\scalebox{2.5}{\ctpLaTeX}
\end{example}


\section{Todo list}

\begin{itemize}
  \item [\textcolor{red}{\textsf{Bug}}] Baselines of several characters need to optimize (maybe some mistakes in datas).
  \item [\textcolor{green}{\textsf{Warn}}] Resolve the font warning: Font shape \texttt{OMS/cmtt/m/n} undefined for \texttt{textbackslash}.
  \item [\textcolor{blue}{\textsf{Function}}] Support function like
  "\chartopath{\usefont{T1}{cmr}{m}{sc} abc}", or\\
  "\chartopath{\sffamily abc}".
\end{itemize}

\end{documentation}

\begin{implementation}

\end{implementation}

% \PrintIndex

\end{document}